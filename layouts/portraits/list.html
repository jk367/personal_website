{{ define "main" }}
<div class="category-page">
    <h1>{{ .Title }}</h1>

    <div class="back-navigation">
        <a href="/photos/" class="back-button">‚Üê Back to Photos</a>
    </div>

    <div class="content">{{ .Content }}</div>

    <div class="series-grid">
        {{ range .Pages }}
        <div class="series-item">
            <a href="{{ .Permalink }}">
                {{ if .Params.cover_image }}
                <picture>
                    <source media="(max-width: 768px)" 
                            srcset="{{ .Params.cover_image }}?width=400&format=webp&quality=75">
                    <img src="{{ .Params.cover_image }}?width=600&format=webp&quality=75" 
                         width="600"
                         height="400"
                         alt="{{ .Title }}"
                         loading="lazy">
                </picture>
                {{ else }}
                <div class="placeholder-image">
                    <span>{{ .Title }}</span>
                </div>
                {{ end }}
                <h3>{{ .Title }}</h3>
            </a>
        </div>
        {{ else }}
        <p>Portrait series coming soon...</p>
        {{ end }}
    </div>
</div>

<style>
    .category-page {
        max-width: 1200px;
        margin: 0 auto;
    }

    .content {
        margin-bottom: 2rem;
    }

    .series-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
    }

    .series-item {
        text-align: center;
    }

    .series-item a {
        text-decoration: none;
        color: inherit;
        display: block;
    }

    .series-item img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        display: block;
        margin-bottom: 0.5rem;
    }

    .placeholder-image {
        width: 100%;
        height: 200px;
        background-color: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 0.5rem;
        color: #666;
        font-style: italic;
    }

    .series-item h3 {
        margin: 0;
        font-size: 1rem;
        font-weight: normal;
    }

    .series-item:hover h3 {
        text-decoration: underline;
    }
</style>
{{ end }}